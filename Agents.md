# AI Agent Guidelines - superpowers-plus

> **Generated by**: [golden-agents](https://github.com/bordenet/golden-agents) v1.2.0 (compact)
> **Last Updated**: 2026-02-01
> **Languages**: shell
> **Type**: cli-tools

Self-contained. Minimal high-signal tokens.
<!-- GOLDEN:self-manage:start -->
## âš ï¸ Before ANY Task
1. Load `.ai-guidance/invariants.md` â€” contains critical rules
2. After editing ANY guidance file, check: `wc -l Agents.md .ai-guidance/*.md 2>/dev/null`
   - `Agents.md` >150 lines â†’ refactor into `.ai-guidance/`
   - Any `.ai-guidance/*.md` >250 lines â†’ split into sub-directory
<!-- GOLDEN:self-manage:end -->
<!-- GOLDEN:framework:start -->

---

## Quality Gates (MANDATORY)

Before ANY commit:
1. **Lint**: `shellcheck *.sh`
2. **Build**: `bash -n *.sh`
3. **Test**: `bats test/`
4. **Coverage**: Minimum N/A%

**Order matters.** Lint â†’ Build â†’ Test. Never skip steps.

---

## Communication Rules

- **No flattery** - Skip "Great question!" or "Excellent point!"
- **No hype** - Avoid "revolutionary", "game-changing", "seamless"
- **Evidence-based** - Cite sources or qualify as opinion
- **Direct** - State facts without embellishment

**Banned phrases**: production-grade, world-class, leverage, utilize, incredibly, extremely, Happy to help!

---

## ðŸš¨ Progressive Module Loading

**STOP and load the relevant module BEFORE these actions:**

### Language Modules (ðŸ”´ Required)
- ðŸ”´ **BEFORE writing ANY `.sh` file or bash code block**: Read `$HOME/.golden-agents/templates/languages/shell.md`

### Workflow Modules (ðŸ”´ Required)
- ðŸ”´ **BEFORE any commit, PR, push, or merge**: Read `$HOME/.golden-agents/templates/workflows/security.md`
- ðŸ”´ **WHEN tests fail OR after 2+ failed fix attempts**: Read `$HOME/.golden-agents/templates/workflows/testing.md`
- ðŸ”´ **WHEN build fails OR lint errors appear**: Read `$HOME/.golden-agents/templates/workflows/build-hygiene.md`
- ðŸŸ¡ **BEFORE deploying to any environment**: Read `$HOME/.golden-agents/templates/workflows/deployment.md`
- ðŸŸ¡ **WHEN conversation exceeds 50 exchanges**: Read `$HOME/.golden-agents/templates/workflows/context-management.md`

### Project type guidance:
- Read `$HOME/.golden-agents/templates/project-types/cli-tools.md`

### Optional: Superpowers integration

If [superpowers](https://github.com/obra/superpowers) is installed, run at session start:

```bash
node ~/.codex/superpowers-augment/superpowers-augment.js bootstrap
```

<!-- GOLDEN:framework:end -->

---

## Project-Specific Rules

<!-- Add project-specific guidance below this line -->

## ðŸ’° COST-CONSCIOUS SEARCH POLICY (GLOBAL)

<EXTREMELY_IMPORTANT>
**Perplexity API calls cost real money from personal funds. Always use free tools first.**

### Escalation Path

1. **Step 1 (FREE):** Use `web-search` for all lookups
2. **Step 2 (FREE):** Use `web-fetch` to check URLs or read pages directly
3. **Step 3 (EVALUATE):** Ask yourself â€” did I find what I need? If YES â†’ STOP
4. **Step 4 (PAID):** Only if results are â‰¥50% worse than expected, escalate to Perplexity

### Before Calling Perplexity

You MUST state explicitly:
> "web-search returned [X]. This is insufficient because [reason]. Escalating to Perplexity."

### Cost Reference

| Tool | Cost | Use When |
|------|------|----------|
| `web-search` | FREE | Always first |
| `web-fetch` | FREE | Checking URLs, reading pages |
| `perplexity_ask_perplexity` | ~$0.001/query | Simple questions after web-search fails |
| `perplexity_search_perplexity` | ~$0.005/query | Search after web-search fails |
| `perplexity_reason_perplexity` | ~$0.01/query | Complex reasoning (rare) |
| `perplexity_research_perplexity` | ~$0.05/query | Deep research (very rare, ask first) |

### Never Call Perplexity For

- Simple company lookups
- Checking if a URL is live
- Finding a company's website
- Basic fact-checking
- Reading documentation pages

### Acceptable Perplexity Use Cases

- Complex multi-source synthesis after web-search fails
- Current events/news that web-search can't find
- Technical questions requiring reasoning
- When user explicitly requests Perplexity
</EXTREMELY_IMPORTANT>
